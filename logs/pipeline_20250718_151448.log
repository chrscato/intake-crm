2025-07-18 15:14:48,309 - INFO - [STARTING] Automated pipeline at 2025-07-18 15:14:48.308436
2025-07-18 15:14:48,309 - INFO - [LOG] Log file: logs\pipeline_20250718_151448.log
2025-07-18 15:14:48,309 - INFO - üîç Checking prerequisites...
2025-07-18 15:14:48,309 - INFO - ‚úÖ All prerequisites satisfied
2025-07-18 15:14:48,310 - INFO - üöÄ Starting automated email processing pipeline
2025-07-18 15:14:48,310 - INFO - üîÑ Starting step: Email Ingestion
2025-07-18 15:14:48,310 - INFO - üìã Command: C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\python.exe scripts/run_email_ingestion.py --max-emails 1 --action fetch --folder Intake
2025-07-18 15:14:49,381 - ERROR - ‚ùå Email Ingestion failed with return code 1
2025-07-18 15:14:49,382 - ERROR - üì• Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\run_email_ingestion.py", line 102, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\run_email_ingestion.py", line 57, in main
    print("\U0001f680 Email Ingestion Tool")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f680' in position 0: character maps to <undefined>
2025-07-18 15:14:49,382 - INFO - üîÑ Starting step: LLM Data Extraction
2025-07-18 15:14:49,382 - INFO - üìã Command: C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\python.exe scripts/run_llm_extraction.py --archive
2025-07-18 15:14:52,814 - ERROR - ‚ùå LLM Data Extraction failed with return code 1
2025-07-18 15:14:52,814 - ERROR - üì• Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\run_llm_extraction.py", line 18, in <module>
    from app.processing.openai_agent import extract_consolidated
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\app\processing\openai_agent.py", line 41, in <module>
    PROMPT = generate_dynamic_prompt()
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\app\processing\openai_agent.py", line 23, in generate_dynamic_prompt
    print(f"\U0001f527 DEBUG: Using {len(field_names)} fields from sample: {field_names}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f527' in position 0: character maps to <undefined>
2025-07-18 15:14:52,815 - INFO - üîÑ Starting step: Address Geocoding
2025-07-18 15:14:52,815 - INFO - üìã Command: C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\python.exe scripts/geocode_addresses.py
2025-07-18 15:14:53,690 - ERROR - ‚ùå Address Geocoding failed with return code 1
2025-07-18 15:14:53,690 - ERROR - üì• Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\geocode_addresses.py", line 367, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\geocode_addresses.py", line 285, in main
    print(f"\U0001f5fa\ufe0f  Starting geocoding process...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 0-1: character maps to <undefined>
2025-07-18 15:14:53,690 - INFO - üîÑ Starting step: S3 Document Upload
2025-07-18 15:14:53,691 - INFO - üìã Command: C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\python.exe scripts/upload_docs_to_s3.py
2025-07-18 15:14:54,594 - ERROR - ‚ùå S3 Document Upload failed with return code 1
2025-07-18 15:14:54,595 - ERROR - üì• Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\upload_docs_to_s3.py", line 150, in main
    print(f"\U0001f517 Connected to S3 bucket: {uploader.bucket}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f517' in position 0: character maps to <undefined>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\upload_docs_to_s3.py", line 242, in <module>
    sys.exit(main())
             ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\upload_docs_to_s3.py", line 152, in main
    print(f"\u274c Failed to connect to S3: {e}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 0: character maps to <undefined>
2025-07-18 15:14:54,595 - INFO - üîÑ Starting step: Database Ingestion
2025-07-18 15:14:54,595 - INFO - üìã Command: C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\python.exe scripts/ingest_to_db.py
2025-07-18 15:14:54,805 - ERROR - ‚ùå Database Ingestion failed with return code 1
2025-07-18 15:14:54,805 - ERROR - üì• Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\ingest_to_db.py", line 322, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\ingest_to_db.py", line 302, in main
    print(f"\U0001f527 Creating/connecting to database: {db_path}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f527' in position 0: character maps to <undefined>
2025-07-18 15:14:54,806 - INFO - üîÑ Starting step: Email Archiving
2025-07-18 15:14:54,806 - INFO - üìã Command: C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\python.exe scripts/archive_processed_emails.py
2025-07-18 15:14:54,915 - ERROR - ‚ùå Email Archiving failed with return code 1
2025-07-18 15:14:54,915 - ERROR - üì• Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\archive_processed_emails.py", line 86, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\archive_processed_emails.py", line 76, in main
    print(f"\U0001f680 Starting archive process...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f680' in position 0: character maps to <undefined>
2025-07-18 15:14:54,916 - INFO - 
üìä PIPELINE EXECUTION SUMMARY
==================================================
Start Time: 2025-07-18 15:14:48
End Time: 2025-07-18 15:14:54
Total Duration: 0.1 minutes
Overall Status: ‚ùå FAILED

üìã STEP RESULTS:
------------------------------
Email Ingestion: ‚ùå FAIL (1.1s)
   Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\run_email_ingestion.py", line 102, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\run_email_ingestion.py", line 57, in main
    print("\U0001f680 Email Ingestion Tool")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f680' in position 0: character maps to <undefined>

LLM Data Extraction: ‚ùå FAIL (3.4s)
   Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\run_llm_extraction.py", line 18, in <module>
    from app.processing.openai_agent import extract_consolidated
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\app\processing\openai_agent.py", line 41, in <module>
    PROMPT = generate_dynamic_prompt()
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\app\processing\openai_agent.py", line 23, in generate_dynamic_prompt
    print(f"\U0001f527 DEBUG: Using {len(field_names)} fields from sample: {field_names}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f527' in position 0: character maps to <undefined>

Address Geocoding: ‚ùå FAIL (0.9s)
   Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\geocode_addresses.py", line 367, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\geocode_addresses.py", line 285, in main
    print(f"\U0001f5fa\ufe0f  Starting geocoding process...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode characters in position 0-1: character maps to <undefined>

S3 Document Upload: ‚ùå FAIL (0.9s)
   Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\upload_docs_to_s3.py", line 150, in main
    print(f"\U0001f517 Connected to S3 bucket: {uploader.bucket}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f517' in position 0: character maps to <undefined>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\upload_docs_to_s3.py", line 242, in <module>
    sys.exit(main())
             ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\upload_docs_to_s3.py", line 152, in main
    print(f"\u274c Failed to connect to S3: {e}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u274c' in position 0: character maps to <undefined>

Database Ingestion: ‚ùå FAIL (0.2s)
   Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\ingest_to_db.py", line 322, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\ingest_to_db.py", line 302, in main
    print(f"\U0001f527 Creating/connecting to database: {db_path}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f527' in position 0: character maps to <undefined>

Email Archiving: ‚ùå FAIL (0.1s)
   Error: Traceback (most recent call last):
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\archive_processed_emails.py", line 86, in <module>
    main()
    ~~~~^^
  File "C:\Users\ChristopherCato\OneDrive - clarity-dx.com\code\intake-crm\scripts\archive_processed_emails.py", line 76, in main
    print(f"\U0001f680 Starting archive process...")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ChristopherCato\AppData\Local\Programs\Python\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\U0001f680' in position 0: character maps to <undefined>


üìà STATISTICS:
------------------------------
Total Steps: 6
Successful Steps: 0
Failed Steps: 6
Total Errors: 6

2025-07-18 15:14:54,918 - INFO - üìÑ Detailed results saved to: logs\pipeline_results_20250718_151448.json
